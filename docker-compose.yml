services:
  cascade-cli:
    build: .
    container_name: cascade-cli
    environment:
      - GROQ_API_KEY=${GROQ_API_KEY}
      - TAVILY_API_KEY=${TAVILY_API_KEY}
    volumes:
      - ./logs:/app/logs
    stdin_open: true
    tty: true

  cascade-dashboard:
    build: .
    container_name: cascade-dashboard
    environment:
      - GROQ_API_KEY=${GROQ_API_KEY}
      - TAVILY_API_KEY=${TAVILY_API_KEY}
    volumes:
      - ./logs:/app/logs
    ports:
      - "8501:8501"
    command: ["streamlit", "run", "app.py", "--server.address", "0.0.0.0"]
